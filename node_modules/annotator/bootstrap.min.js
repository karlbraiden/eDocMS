/*
** Annotator v2.0.0-dev-41928d6
** https://github.com/okfn/annotator/
**
** Copyright 2014, the Annotator project contributors.
** Dual licensed under the MIT and GPLv3 licenses.
** https://github.com/okfn/annotator/blob/master/LICENSE
**
** Built at: 2014-04-11 02:54:04Z
*/
!function t(n,e,o){function i(a,s){if(!e[a]){if(!n[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=e[a]={exports:{}};n[a][0].call(u.exports,function(t){var e=n[a][1][t];return i(e?e:t)},u,u.exports,t,n,e,o)}return e[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(){!function(t,n,e){"use strict";for(var o,i,r=e.body,a=e.getElementsByTagName("head")[0],s=["Annotator"],l={},u={};s.length;)i=s.shift(),l[i]=n.hasOwnProperty(i);o=function(){var t,n=e.createElement("div"),o="top 0.4s ease-out",i={display:"block",position:"absolute",fontFamily:'"Helvetica Neue", Arial, Helvetica, sans-serif',fontSize:"14px",color:"#fff",top:"-54px",left:0,width:"100%",zIndex:9999,lineHeight:"50px",textAlign:"center",backgroundColor:"#000",borderBottom:"4px solid",WebkitTransition:o,MozTransition:o,OTransition:o,transition:o};n.className="annotator-bm-status";for(t in i)i.hasOwnProperty(t)&&(n.style[t]=i[t]);return n.style.position="fixed",n.style.backgroundColor="rgba(0, 0, 0, 0.9)",n.onclick=function(){this.parentNode.removeChild(this)},{status:{INFO:"#d4d4d4",SUCCESS:"#3665f9",ERROR:"#ff7e00"},element:n,show:function(t,e){return this.message(t,e),n.style.display="block",n.style.visibility="visible",n.style.top="0",this},hide:function(){return n.style.top="-54px",setTimeout(function(){n.style.display="none",n.style.visibility="hidden"},400),this},message:function(t,e){return e=e||this.status.INFO,n.style.borderColor=e,n.innerHTML=t,this},error:function(t){this.message(t,this.status.ERROR),setTimeout(this.hide,5e3),setTimeout(this.remove,5500)},append:function(){return r.appendChild(n),this},remove:function(){var t=n.parentNode;return t&&t.removeChild(n),this}}.append()}(),u={notification:o,keypath:function(t,n,e){for(var o,i=(n||"").split(".");t&&i.length&&(o=i.shift(),t.hasOwnProperty(o));)if(t=t[o],0===i.length&&void 0!==t)return t;return null===e?null:e},config:function(n,e){var i=this.keypath(t,n,e);return null===i&&o.error("Sorry, there was an error reading the bookmarklet setting for key: "+n),i},_injectElement:function(t,n){"head"==t?a.appendChild(n):r.appendChild(n)},load:function(t){var n=this.config("externals.source","http://assets.annotateit.org/bookmarklet/annotator-bookmarklet.min.js"),i=this.config("externals.styles","http://assets.annotateit.org/bookmarklet/annotator.min.css"),r=e.createElement("link");r.rel="stylesheet",r.href=i;var a=e.createElement("script");a.type="text/javascript",a.src=n,a._loaded=!1;var s=function(){a._loaded=!0,t()};a.onload=s,a.onreadystatechange=function(){("loaded"===this.readyState||a._loaded)&&s()},setTimeout(function(){a._loaded||o.error("Sorry, we're unable to load Annotator at the moment...")},3e4),this._injectElement("head",r),this._injectElement("body",a)},authOptions:function(){return{tokenUrl:this.config("auth.tokenUrl","http://annotateit.org/api/token"),autoFetch:this.config("auth.autoFetch",!0)}},storeOptions:function(){var t=location.href.split(/#|\?/).shift();return{prefix:this.config("store.prefix","http://annotateit.org/api"),annotationData:{uri:t},loadFromSearch:{uri:t}}},annotateItPermissionsOptions:function(){return this.config("annotateItPermissions",{})},setup:function(){var e,i=new n.Annotator(t.target||r),a=n.Annotator.Util.$;i.addPlugin("Unsupported").addPlugin("Auth",this.authOptions()).addPlugin("Store",this.storeOptions()).addPlugin("AnnotateItPermissions",this.annotateItPermissionsOptions()),this.config("tags")===!0&&i.addPlugin("Tags"),a.extend(n._annotator,{jQuery:a,element:r,instance:i,Annotator:n.Annotator.noConflict()});for(e in l)l.hasOwnProperty(e)&&!l[e]&&delete n[e];o.message("Annotator is ready!",o.status.SUCCESS),setTimeout(function(){o.hide(),setTimeout(o.remove,800)},3e3)},init:function(){n._annotator.instance?n._annotator.Annotator.showNotification("Annotator is already loaded. Try highlighting some text to get started."):(o.show("Loading Annotator into page"),u.load(function(){u.setup()}))}},n._annotator||(n._annotator={bookmarklet:u}),t.test||u.init()}(window._annotatorConfig,window,window.document)},{}]},{},[1]);
//# sourceMappingURL=bootstrap.min.js.map