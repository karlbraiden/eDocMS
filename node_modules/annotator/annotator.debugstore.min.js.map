{"version":3,"file":"annotator.debugstore.min.js","sources":["../node_modules/browserify/node_modules/browser-pack/_prelude.js","namespace.coffee","plugin/debugstore.coffee"],"names":[],"mappings":";;;;;;;;;;CAAA,SAAA,GAAA,GAAA,gBAAA,SAAA,OAAA,QAAA,QAAA,IAAA,kBAAA,SAAA,OAAA,IAAA,OAAA,OAAA,CAAA,GAAA,EAAA,oBAAA,QAAA,EAAA,OAAA,mBAAA,QAAA,EAAA,OAAA,mBAAA,QAAA,EAAA,KAAA,IAAA,GAAA,CAAA,GAAA,EAAA,YAAA,EAAA,cAAA,EAAA,EAAA,SAAA,EAAA,WAAA,EAAA,WAAA,MAAA,WAAA,MAAA,SAAA,GAAA,EAAA,EAAA,GAAA,QAAA,GAAA,EAAA,GAAA,IAAA,EAAA,GAAA,CAAA,IAAA,EAAA,GAAA,CAAA,GAAA,GAAA,kBAAA,UAAA,OAAA,KAAA,GAAA,EAAA,MAAA,GAAA,GAAA,EAAA,IAAA,EAAA,MAAA,GAAA,GAAA,EAAA,MAAA,IAAA,OAAA,uBAAA,EAAA,KAAA,GAAA,GAAA,EAAA,IAAA,WAAA,GAAA,GAAA,GAAA,KAAA,EAAA,QAAA,SAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,EAAA,OAAA,GAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,GAAA,MAAA,GAAA,GAAA,QAAA,IAAA,GAAA,GAAA,kBAAA,UAAA,QAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,EAAA,EAAA,GAAA,OAAA,KAAA,UAAA,SAAA,EAAA,ICKA,SAAA,GAAA,GAAA,GAAA,EAAA,CAWE,IAXF,mBAAO,IAAP,OAAA,IAAA,EAAA,GACA,mBAAA,IAAA,OAAA,GAAQ,MAAR,IAAA,EAAA,GACA,mBAAA,SAAA,OAAA,QAAQ,MAAR,IAAA,EAAA,QAFA,EAAA,MAAA,EAAA,EAAA,UAAA,OAMA,MAAA,IANA,GAAA,MAAA,EAAA,OAAA,EAAA,EAAA,QAAA,EAAA,IAAA,OAAA,QAAA,MAAA,EAAA,EAAA,QAAA,aAAA,OAAA,QAWkB,kBAAN,GAXZ,KAAA,IAAA,OAAA,4HAAA,GAAA,QAAA,IAAA,KAAA,KAAA,mBAAA,MAAA,KAAA,mBAAA,QAAA,gBAAA,WAAA,SAAA,EAAA,GAAA,EAAA,QAAA,EAAA,eAAA,GAAA,SAAA,EAAA,GCLA,GAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KAAA,KAAA,GAAY,EAAQ,aAApB,EACI,EAAU,KAAK,EADnB,EAIO,WAAI,GAAA,EAAA,OAAA,GAAU,GAAI,WAAA,MAAG,IAAW,MAJvC,EAMM,WACJ,GAAA,EAAA,OADK,GAAA,GAAA,UAAA,OAAA,EAAA,KAAA,UAAA,MACL,QAAQ,MAAR,MAAA,SAAc,cAAc,OAAA,EAAA,KAAA,MAP9B,EASU,SAAC,EAAQ,GACjB,GAAA,EAGA,OAHA,GAAI,EAAQ,KAAK,MAAM,KAAK,UAAU,KACtC,EAAM,EAAE,WACR,EAAI,QAAQ,GACL,EAAI,WAbb,EAAA,WAAA,QAAA,MAmBE,MAAA,GAAA,UAAA,OAAQ,SAAC,GAEP,MADA,GAAW,GAAK,IACT,EAAQ,SAAU,IAF3B,EAAA,UAIA,OAAQ,SAAC,GACP,MAAO,GAAQ,SAAU,IAL3B,EAAA,UAOA,UAAQ,SAAC,GACP,MAAO,GAAQ,UAAW,IAR5B,EAAA,UAUA,MAAO,SAAC,GACN,GAAA,EAGA,OAHA,GAAM,EAAE,WACR,EAAQ,QAAS,GACjB,EAAI,YAAa,MAAO,IACjB,EAAI,WAdb,EAAA,UAgBA,UAAW,SAAC,EAAK,GAAN,MACT,GAAK,qBAAmB,EAAK,MAAI,EAAO,MAjB1C,KAnBF,EAuCU,OAAO,SAAS,aAAc,GAvCxC,EAyCO,QAAU,YAzCjB,IAAA","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","# In order to build portable extension bundles that can be used with AMD and\n# script concatenation plugins are built with this module as 'annotator'.\n\n# Annotator will export itself globally when the built UMD modules are used in\n# a legacy environment of simple script concatenation.\nself = self if self?\nself ?= global if global?\nself ?= window if window?\nAnnotator = self?.Annotator\n\n# In a pure AMD environment, Annotator may not be exported globally.\nAnnotator ?= if self?.define?.amd then self?.require('annotator')\n\n# If we haven't successfully loaded Annotator by this point, there's no point in\n# going on to load the plugin, so throw a fatal error.\nif typeof Annotator isnt 'function'\n  throw new Error(\"Could not find Annotator! In a webpage context, please ensure\n                   that the Annotator script tag is loaded before any plugins.\")\n\n# Note: when working in a CommonJS environment and bundling requirements into\n# applications then require calls should refer to modules from the npm lib\n# directory of annotator package and avoid this altogether.\nmodule.exports = Annotator\n","Annotator = require('annotator')\n$ = Annotator.Util.$\n\n\nuuid = (-> counter = -1; -> counter += 1)()\n\nlog = (args...) ->\n  console.debug(\"DebugStore\", args...)\n\nperform = (action, annotation) ->\n  log(action, JSON.parse(JSON.stringify(annotation)))\n  dfd = $.Deferred()\n  dfd.resolve(annotation)\n  return dfd.promise()\n\n# Public: The DebugStore plugin can be used to print details of the annotation\n# persistence processes to the console when developing other parts of Annotator.\nclass DebugStore\n\n  create: (annotation) ->\n    annotation.id = uuid()\n    return perform('create', annotation)\n\n  update: (annotation) ->\n    return perform('update', annotation)\n\n  delete: (annotation) ->\n    return perform('destroy', annotation)\n\n  query: (queryObj) ->\n    dfd = $.Deferred()\n    perform('query', queryObj)\n    dfd.resolve([], {total: 0})\n    return dfd.promise()\n\n  setHeader: (key, value) ->\n    log(\"would set header '#{key}'='#{value}'\")\n\n\nAnnotator.Plugin.register('DebugStore', DebugStore)\n\nmodule.exports = DebugStore\n"]}